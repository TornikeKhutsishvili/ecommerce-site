<!-- navbar -->
<nav class="navbar navbar-expand-lg main-navbar" [ngClass]="isDarkMode() ? 'navbar-dark bg-dark' : 'navbar-light bg-light'">
  <div class="container">

    <!-- Logo -->
    <a class="navbar-brand fw-bold" [routerLink]="['/']" [routerLinkActive]="['active']">
      TK<span class="text-primary">Shop</span>
    </a>

    <!-- Burger Menu -->
    <button class="navbar-toggler" type="button" (click)="toggleMenu()" title="Menu">
      <span class="navbar-toggler-icon"></span>
    </button>

    <!-- Menu Items -->
    <div class="collapse navbar-collapse mobile-slide" [ngClass]="{ 'show': isMenuOpen() }">
      <ul class="navbar-nav mx-auto">
        <li class="nav-item"><a class="nav-link" [routerLink]="['/']" [routerLinkActive]="['active']" (click)="closeMenu()">Home</a></li>
        <li class="nav-item"><a class="nav-link" [routerLink]="['/shop']" [routerLinkActive]="['active']" (click)="closeMenu()">Shop</a></li>
        <li class="nav-item"><a class="nav-link" [routerLink]="['/contact']" [routerLinkActive]="['active']" (click)="closeMenu()">Contact</a></li>
      </ul>

      <!-- Right Side Actions -->
      <div class="d-flex align-items-center navbar-actions flex-wrap gap-2">

        <!-- Filter -->
        <select class="form-select" (change)="filterByPrice($event, products())" name="select">
          <option value="">Price</option>
          <option value="low">Low â†’ High</option>
          <option value="high">High â†’ Low</option>
        </select>

        <!-- Search -->
        <div class="search-box">
          <input type="text" class="form-control" placeholder="Search..." (input)="onSearch($event)">
        </div>

        <!-- Cart -->
        <a [routerLink]="['/cart']" class="btn btn-outline-primary position-relative cart-btn">
          ðŸ›’
          <span class="cart-badge" *ngIf="cartItemCount() > 0">{{ cartItemCount() }}</span>
        </a>

        <!-- Theme Toggle -->
        <button type="button" class="btn btn-outline-secondary theme-btn" (click)="toggleTheme()">
          {{ isDarkMode() ? sun : moon }}
        </button>

        <!-- Auth Links -->
        <div class="auth-links d-flex align-items-center">
          <ng-container *ngIf="!isLoggedIn(); else loggedInLinks">
            <a [routerLink]="['/login']" class="text-decoration-none me-2">Login</a>
            <span>|</span>
            <a [routerLink]="['/register']" class="text-decoration-none ms-2">Register</a>
          </ng-container>

          <ng-template #loggedInLinks>
            <a [routerLink]="['/profile']" class="text-decoration-none me-2">Profile</a>
            <span>|</span>
            <a [routerLink]="['/']" class="text-decoration-none ms-2" (click)="logout()">Logout</a>
          </ng-template>
        </div>

      </div>
    </div>
  </div>
</nav>