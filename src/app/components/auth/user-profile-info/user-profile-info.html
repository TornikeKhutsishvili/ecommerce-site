@if(user){

  <div class="profile-card">
    <div class="profile-header">

      <div class="avatar-wrapper">
        <img
          class="avatar"
          [src]="user.photoUrl || avatarImg()"
          alt="Profile Picture"
          (error)="onImgError($event)"
          (click)="fileInput.click()"
        >
        <span class="upload-label">
          Upload image
        </span>
        <input
          type="file"
          #fileInput
          accept="image/*"
          hidden
          (change)="onFileSelected($event)"
        >
      </div>

      <h2 class="text-dark">{{ user.name || 'User' }}</h2>
      <p class="text-dark">{{ user.email }}</p>
    </div>

    <div class="profile-form">
      <label>
        Name:
        <input
          type="text"
          [(ngModel)]="user.name"
          class="form-control"
        >
      </label>

      <label>
        Telephone:
        <input
          type="number"
          [(ngModel)]="user.telephone"
          class="form-control"
        >
      </label>

      <label>
        City:
        <select [(ngModel)]="user.city"
                class="form-select"
        >
          <option value="" disabled>
            Select city
          </option>
          @for(city of cities(); track $index){
            <option [value]="city">{{ city }}</option>
          }
        </select>
      </label>

      <label>
        Bio:
        <textarea [(ngModel)]="user.bio"
                  class="form-text"
        ></textarea>
      </label>

      <button class="btn-save"
              (click)="saveProfile()"
      >
        {{ 'Save Changes' | translate }}
      </button>
    </div>
  </div>

}


<!-- Toast Components -->
<app-alert-toasts #alertToast></app-alert-toasts>
<app-accept-toasts #acceptToast class="mt-3"></app-accept-toasts>
<app-delete-toasts #deleteToast></app-delete-toasts>
